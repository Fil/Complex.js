/*
Complex.js v1.2.2 22/06/2015

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(m){"use strict";function g(b,a){if(void 0!==a)c.r=b,c.i=a;else switch(typeof b){case "object":"i"in b&&"r"in b?(c.r=b.r,c.i=b.i):"abs"in b&&"arg"in b?(c.r=b.abs*Math.cos(b.arg),c.i=b.abs*Math.sin(b.arg)):l();break;case "string":c.i=c.r=0;for(var f=/[+-]?[\di.]+/g,e,g=0;null!==(e=f.exec(b));g=1)if(-1!==e[0].indexOf("i")){e=e[0].replace("i","");if("+"===e||"-"===e||""===e)e+="1";c.i+=parseFloat(e)}else c.r+=parseFloat(e[0]);0===g&&l();break;case "number":c.i=0;c.r=b;break;default:l()}isNaN(c.r*c.i)&&l()}
function l(){throw"Invalid Param";}function h(b){return(Math.exp(b)-Math.exp(-b))/2}function k(b){return(Math.exp(b)+Math.exp(-b))/2}function a(b,d){if(!(this instanceof a))return new a(b,d);g(b,d);this.r=c.r;this.i=c.i}var c={b:0,a:0};a.prototype.r=0;a.prototype.i=0;a.prototype.add=function(b,d){g(b,d);return new a(this.r+c.r,this.i+c.i)};a.prototype.sub=function(b,d){g(b,d);return new a(this.r-c.r,this.i-c.i)};a.prototype.mul=function(b,d){g(b,d);return new a(this.r*c.r-this.i*c.i,this.r*c.i+this.i*
c.r)};a.prototype.div=function(b,d){g(b,d);b=c.r;d=c.i;var f=b*b+d*d;if(0===f)throw"DIV/0";return new a((b*this.r+d*this.i)/f,(b*this.i-d*this.r)/f)};a.prototype.pow=function(b,d){g(b,d);b=this.r;d=this.i;var f=b*b+d*d,e=Math.atan2(d,b);if(0===f)return new a(0);var h=Math.pow(f,c.r/2)*Math.exp(-c.i*e),f=c.i*Math.log(f)/2+c.r*e;return new a(h*Math.cos(f),h*Math.sin(f))};a.prototype.sqrt=function(){var b=this.abs();return new a(Math.sqrt((b+this.r)/2),Math.sqrt((b-this.r)/2)*(0>this.i?-1:1))};a.prototype.exp=
function(){var b=Math.exp(this.r);return new a(b*Math.cos(this.i),b*Math.sin(this.i))};a.prototype.log=function(){var b=this.r,d=this.i;return new a(Math.log(b*b+d*d)/2,Math.atan2(d,b))};a.prototype.abs=function(){var b=this.r,a=this.i;return Math.sqrt(b*b+a*a)};a.prototype.arg=function(){return Math.atan2(this.i,this.r)};a.prototype.sin=function(){var b=this.r,d=this.i;return new a(Math.sin(b)*k(d),Math.cos(b)*h(d))};a.prototype.cos=function(){var b=this.r,d=this.i;return new a(Math.cos(b)*k(d),
-Math.sin(b)*h(d))};a.prototype.tan=function(){var b=this.r,d=this.i,c=Math.cos(2*b)+k(2*d);return new a(Math.sin(2*b)/c,h(2*d)/c)};a.prototype.asin=function(){return this.mul(this).neg().add(1).sqrt().add(this.mul(a.I)).log().mul(a.I).neg()};a.prototype.acos=function(){return this.mul(this).neg().add(1).sqrt().mul(a.I).add(this).log().mul(a.I).neg()};a.prototype.atan=function(){return a.I.add(this).div(a.I.sub(this)).log().mul(a.I).div(2)};a.prototype.sinh=function(){var b=this.r,d=this.i;return new a(h(b)*
Math.cos(d),k(b)*Math.sin(d))};a.prototype.cosh=function(){var b=this.r,d=this.i;return new a(k(b)*Math.cos(d),h(b)*Math.sin(d))};a.prototype.tanh=function(){var b=this.r,d=this.i,c=k(2*b)+Math.cos(2*d);return new a(h(2*b)/c,Math.sin(2*d)/c)};a.prototype.inverse=function(){var b=this.r,d=this.i,c=b*b+d*d;if(0===c)throw"DIV/0";return new a(b/c,-d/c)};a.prototype.conjugate=function(){return new a(this.r,-this.i)};a.prototype.neg=function(){return new a(-this.r,-this.i)};a.prototype.equals=function(b,
a){g(b,a);return c.r===this.r&&c.i===this.i};a.prototype.clone=function(){return new a(this.r,this.i)};a.prototype.toString=function(){var b=this.r,a=this.i;if(isNaN(b*a))return"NaN";var c="";0!==b&&(c+=b);0!==a&&(0<a&&0!==b&&(c+="+"),1!==a&&(c=-1===a?c+"-":c+a),c+="i");return""===c?"0":c};a.prototype.toVector=function(){return[this.b,this.a]};a.prototype.valueOf=function(){return 0===this.i?this.r:null};a.ZERO=new a(0,0);a.ONE=new a(1,0);a.I=new a(0,1);a.PI=new a(Math.PI,0);a.E=new a(Math.E,0);"function"===
typeof define&&define.amd?define([],function(){return a}):"object"===typeof exports?module.exports=a:m.Complex=a})(this);
