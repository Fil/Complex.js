/*
Complex.js v1.5.0 13/07/2015

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(m){"use strict";function f(a,b){if(null===a||void 0===a)c.r=0,c.i=0;else if(void 0!==b)c.r=a,c.i=b;else switch(typeof a){case "object":"i"in a&&"r"in a?(c.r=a.r,c.i=a.i):"abs"in a&&"arg"in a?(c.r=a.abs*Math.cos(a.arg),c.i=a.abs*Math.sin(a.arg)):l();break;case "string":c.i=c.r=0;for(var d=/[+-]?[\di.]+/g,e,f=0;null!==(e=d.exec(a));f=1)if(-1!==e[0].indexOf("i")){e=e[0].replace("i","");if("+"===e||"-"===e||""===e)e+="1";c.i+=parseFloat(e)}else c.r+=parseFloat(e[0]);0===f&&l();break;case "number":c.i=0;
c.r=a;break;default:l()}isNaN(c.r*c.i)&&l()}function l(){throw"Invalid Param";}function h(a){return(Math.exp(a)-Math.exp(-a))/2}function k(a){return(Math.exp(a)+Math.exp(-a))/2}function d(a,b){if(!(this instanceof d))return new d(a,b);f(a,b);this.r=c.r;this.i=c.i}var c={b:0,a:0};d.prototype={r:0,i:0,add:function(a,b){f(a,b);return new d(this.r+c.r,this.i+c.i)},sub:function(a,b){f(a,b);return new d(this.r-c.r,this.i-c.i)},mul:function(a,b){f(a,b);return new d(this.r*c.r-this.i*c.i,this.r*c.i+this.i*
c.r)},div:function(a,b){f(a,b);a=c.r;b=c.i;var g=a*a+b*b;if(0===g)throw"DIV/0";return new d((a*this.r+b*this.i)/g,(a*this.i-b*this.r)/g)},pow:function(a,b){f(a,b);a=this.r;b=this.i;var g=a*a+b*b,e=Math.atan2(b,a);if(0===g)return new d(0);a=Math.pow(g,c.r/2)*Math.exp(-c.i*e);b=c.i*Math.log(g)/2+c.r*e;return new d(a*Math.cos(b),a*Math.sin(b))},sqrt:function(){var a=this.abs();return new d(Math.sqrt((a+this.r)/2),Math.sqrt((a-this.r)/2)*(0>this.i?-1:1))},exp:function(){var a=Math.exp(this.r);return new d(a*
Math.cos(this.i),a*Math.sin(this.i))},log:function(){var a=this.r,b=this.i;return new d(Math.log(a*a+b*b)/2,Math.atan2(b,a))},abs:function(){var a=this.r,b=this.i;return Math.sqrt(a*a+b*b)},arg:function(){return Math.atan2(this.i,this.r)},sin:function(){var a=this.r,b=this.i;return new d(Math.sin(a)*k(b),Math.cos(a)*h(b))},cos:function(){var a=this.r,b=this.i;return new d(Math.cos(a)*k(b),-Math.sin(a)*h(b))},tan:function(){var a=this.r,b=this.i,c=Math.cos(2*a)+k(2*b);return new d(Math.sin(2*a)/c,
h(2*b)/c)},asin:function(){return this.mul(this).neg().add(1).sqrt().add(this.mul(d.I)).log().mul(d.I).neg()},acos:function(){return this.mul(this).neg().add(1).sqrt().mul(d.I).add(this).log().mul(d.I).neg()},atan:function(){return d.I.add(this).div(d.I.sub(this)).log().mul(d.I).div(2)},sinh:function(){var a=this.r,b=this.i;return new d(h(a)*Math.cos(b),k(a)*Math.sin(b))},cosh:function(){var a=this.r,b=this.i;return new d(k(a)*Math.cos(b),h(a)*Math.sin(b))},tanh:function(){var a=this.r,b=this.i,c=
k(2*a)+Math.cos(2*b);return new d(h(2*a)/c,Math.sin(2*b)/c)},inverse:function(){var a=this.r,b=this.i,c=a*a+b*b;if(0===c)throw"DIV/0";return new d(a/c,-b/c)},conjugate:function(){return new d(this.r,-this.i)},neg:function(){return new d(-this.r,-this.i)},equals:function(a,b){f(a,b);return 1E-16>=Math.abs(c.r-this.r)&&1E-16>=Math.abs(c.i-this.i)},clone:function(){return new d(this.r,this.i)},toString:function(){var a=this.r,b=this.i;if(isNaN(a*b))return"NaN";var c="";0!==a&&(c+=a);0!==b&&(0<b&&0!==
a&&(c+="+"),1!==b&&(c=-1===b?c+"-":c+b),c+="i");return""===c?"0":c},toVector:function(){return[this.b,this.a]},valueOf:function(){return 0===this.i?this.r:null}};d.ZERO=new d(0,0);d.ONE=new d(1,0);d.I=new d(0,1);d.PI=new d(Math.PI,0);d.E=new d(Math.E,0);"function"===typeof define&&define.amd?define([],function(){return d}):"object"===typeof exports?module.exports=d:m.Complex=d})(this);
