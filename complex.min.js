/*
 Complex.js v1.0.0 01/06/2015

 Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(m){"use strict";function g(a,b){if(void 0!==b)c.r=parseFloat(a),c.i=parseFloat(b);else switch(typeof a){case "object":"i"in a&&"r"in a?(c.r=parseFloat(a.r),c.i=parseFloat(a.i)):"abs"in a&&"arg"in a?(c.r=a.abs*Math.cos(a.arg),c.i=a.abs*Math.sin(a.arg)):h();break;case "string":c.i=c.r=0;var f=/[+-]?[\di]+/g,e;e=-1;for(var g=0;null!==(e=f.exec(a));){if(-1!==e[0].indexOf("i")){e=e[0].replace("i","");if("+"===e||"-"===e||""===e)e+="1";c.i+=parseFloat(e)}else c.r+=parseFloat(e[0]);g=1}0===g&&h();break;case "number":c.i=
0;c.r=parseFloat(a);break;default:h()}isNaN(c.r*c.i)&&h()}function h(){throw"Invalid Param";}function k(a){return(Math.exp(a)-Math.exp(-a))/2}function l(a){return(Math.exp(a)+Math.exp(-a))/2}function b(a,d){if(!(this instanceof b))return new b(a,d);g(a,d);this.r=c.r;this.i=c.i}var c={b:0,a:0};b.prototype.r=0;b.prototype.i=0;b.prototype.add=function(a,d){g(a,d);return new b(this.r+c.r,this.i+c.i)};b.prototype.sub=function(a,d){g(a,d);return new b(this.r-c.r,this.i-c.i)};b.prototype.mul=function(a,
d){g(a,d);return new b(this.r*c.r-this.i*c.i,this.r*c.i+this.i*c.r)};b.prototype.div=function(a,d){g(a,d);a=c.r;d=c.i;var f=a*a+d*d;return new b((a*this.r+d*this.i)/f,(a*this.i-d*this.r)/f)};b.prototype.pow=function(a,d){g(a,d);a=this.r;d=this.i;var f=a*a+d*d,e=Math.atan2(d,a),h=Math.pow(f,c.r/2)*Math.exp(-c.i*e),f=c.i*Math.log(f)/2+c.r*e;return new b(h*Math.cos(f),h*Math.sin(f))};b.prototype.sqrt=function(){var a=this.abs();return new b(Math.sqrt((a+this.r)/2),Math.sqrt((a-this.r)/2)*(0>this.i?-1:
1))};b.prototype.exp=function(){var a=Math.exp(this.r);return new b(a*Math.cos(this.i),a*Math.sin(this.i))};b.prototype.log=function(){return new b(Math.log(this.abs()),this.arg())};b.prototype.abs=function(){var a=this.r,b=this.i;return Math.sqrt(a*a+b*b)};b.prototype.arg=function(){return Math.atan2(this.i,this.r)};b.prototype.sin=function(){var a=this.r,c=this.i;return new b(Math.sin(a)*l(c),Math.cos(a)*k(c))};b.prototype.cos=function(){var a=this.r,c=this.i;return new b(Math.cos(a)*l(c),-Math.sin(a)*
k(c))};b.prototype.tan=function(){var a=this.r,c=this.i,f=Math.cos(2*a)+l(2*c);return new b(Math.sin(2*a)/f,k(2*c)/f)};b.prototype.asin=function(){return this.mul(this).negate().add(1).sqrt().add(this.mul(b.I)).log().mul(b.I).negate()};b.prototype.acos=function(){return this.mul(this).negate().add(1).sqrt().mul(b.I).add(this).log().mul(b.I).negate()};b.prototype.atan=function(){return b.I.add(this).div(b.I.sub(this)).log().mul(b.I).div(2)};b.prototype.conjugate=function(){return new b(this.r,-this.i)};
b.prototype.negate=function(){return new b(-this.r,-this.i)};b.prototype.equals=function(a,b){g(a,b);return c.r===this.r&&c.i===this.i};b.prototype.clone=function(){return new b(this.r,this.i)};b.prototype.toString=function(){if(isNaN(this.r*this.i))return"NaN";var a="";0!==this.r&&(a+=this.r);0!==this.i&&(0<this.i&&0!==this.r&&(a+="+"),1!==this.i&&(-1===this.i?a+="-":a+=this.i),a+="i");return""===a?"0":a};b.prototype.valueOf=function(){return 0===this.i?this.r:null};b.ZERO=new b(0,0);b.ONE=new b(1,
0);b.I=new b(0,1);b.PI=new b(Math.PI,0);b.E=new b(Math.E,0);"function"===typeof define&&define.amd?define([],function(){return b}):"object"===typeof exports?module.exports=b:m.Complex=b})(this);
