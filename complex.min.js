/*
 Complex.js v1.1.0 22/06/2015

 Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(m){"use strict";function g(a,b){if(void 0!==b)d.r=a,d.i=b;else switch(typeof a){case "object":"i"in a&&"r"in a?(d.r=a.r,d.i=a.i):"abs"in a&&"arg"in a?(d.r=a.abs*Math.cos(a.arg),d.i=a.abs*Math.sin(a.arg)):l();break;case "string":d.i=d.r=0;for(var f=/[+-]?[\di.]+/g,e,g=0;null!==(e=f.exec(a));g=1)if(-1!==e[0].indexOf("i")){e=e[0].replace("i","");if("+"===e||"-"===e||""===e)e+="1";d.i+=parseFloat(e)}else d.r+=parseFloat(e[0]);0===g&&l();break;case "number":d.i=0;d.r=parseFloat(a);break;default:l()}isNaN(d.r*
d.i)&&l()}function l(){throw"Invalid Param";}function h(a){return(Math.exp(a)-Math.exp(-a))/2}function k(a){return(Math.exp(a)+Math.exp(-a))/2}function b(a,c){if(!(this instanceof b))return new b(a,c);g(a,c);this.r=d.r;this.i=d.i}var d={b:0,a:0};b.prototype.r=0;b.prototype.i=0;b.prototype.add=function(a,c){g(a,c);return new b(this.r+d.r,this.i+d.i)};b.prototype.sub=function(a,c){g(a,c);return new b(this.r-d.r,this.i-d.i)};b.prototype.mul=function(a,c){g(a,c);return new b(this.r*d.r-this.i*d.i,this.r*
d.i+this.i*d.r)};b.prototype.div=function(a,c){g(a,c);a=d.r;c=d.i;var f=a*a+c*c;if(0===f)throw"DIV/0";return new b((a*this.r+c*this.i)/f,(a*this.i-c*this.r)/f)};b.prototype.pow=function(a,c){g(a,c);a=this.r;c=this.i;var f=a*a+c*c,e=Math.atan2(c,a),h=Math.pow(f,d.r/2)*Math.exp(-d.i*e),f=d.i*Math.log(f)/2+d.r*e;return new b(h*Math.cos(f),h*Math.sin(f))};b.prototype.sqrt=function(){var a=this.abs();return new b(Math.sqrt((a+this.r)/2),Math.sqrt((a-this.r)/2)*(0>this.i?-1:1))};b.prototype.exp=function(){var a=
Math.exp(this.r);return new b(a*Math.cos(this.i),a*Math.sin(this.i))};b.prototype.log=function(){var a=this.r,c=this.i;return new b(Math.log(a*a+c*c)/2,Math.atan2(c,a))};b.prototype.abs=function(){var a=this.r,b=this.i;return Math.sqrt(a*a+b*b)};b.prototype.arg=function(){return Math.atan2(this.i,this.r)};b.prototype.sin=function(){var a=this.r,c=this.i;return new b(Math.sin(a)*k(c),Math.cos(a)*h(c))};b.prototype.cos=function(){var a=this.r,c=this.i;return new b(Math.cos(a)*k(c),-Math.sin(a)*h(c))};
b.prototype.tan=function(){var a=this.r,c=this.i,d=Math.cos(2*a)+k(2*c);return new b(Math.sin(2*a)/d,h(2*c)/d)};b.prototype.asin=function(){return this.mul(this).negate().add(1).sqrt().add(this.mul(b.I)).log().mul(b.I).negate()};b.prototype.acos=function(){return this.mul(this).negate().add(1).sqrt().mul(b.I).add(this).log().mul(b.I).negate()};b.prototype.atan=function(){return b.I.add(this).div(b.I.sub(this)).log().mul(b.I).div(2)};b.prototype.sinh=function(){var a=this.r,c=this.i;return new b(h(a)*
Math.cos(c),k(a)*Math.sin(c))};b.prototype.cosh=function(){var a=this.r,c=this.i;return new b(k(a)*Math.cos(c),h(a)*Math.sin(c))};b.prototype.tanh=function(){var a=this.r,c=this.i,d=k(2*a)+Math.cos(2*c);return new b(h(2*a)/d,Math.sin(2*c)/d)};b.prototype.inverse=function(){var a=this.r,c=this.i,d=a*a+c*c;if(0===d)throw"DIV/0";return new b(a/d,-c/d)};b.prototype.conjugate=function(){return new b(this.r,-this.i)};b.prototype.negate=function(){return new b(-this.r,-this.i)};b.prototype.equals=function(a,
b){g(a,b);return d.r===this.r&&d.i===this.i};b.prototype.clone=function(){return new b(this.r,this.i)};b.prototype.toString=function(){if(isNaN(this.r*this.i))return"NaN";var a="";0!==this.r&&(a+=this.r);0!==this.i&&(0<this.i&&0!==this.r&&(a+="+"),1!==this.i&&(-1===this.i?a+="-":a+=this.i),a+="i");return""===a?"0":a};b.prototype.toVector=function(){return[this.b,this.a]};b.prototype.valueOf=function(){return 0===this.i?this.r:null};b.ZERO=new b(0,0);b.ONE=new b(1,0);b.I=new b(0,1);b.PI=new b(Math.PI,
0);b.E=new b(Math.E,0);"function"===typeof define&&define.amd?define([],function(){return b}):"object"===typeof exports?module.exports=b:m.Complex=b})(this);
