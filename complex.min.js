/*
Complex.js v1.5.0 13/07/2015

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(m){"use strict";function f(a,b){if(null===a||void 0===a)c.r=0,c.i=0;else if(void 0!==b)c.r=a,c.i=b;else switch(typeof a){case "object":"i"in a&&"r"in a?(c.r=a.r,c.i=a.i):"abs"in a&&"arg"in a?(c.r=a.abs*Math.cos(a.arg),c.i=a.abs*Math.sin(a.arg)):l();break;case "string":c.i=c.r=0;for(var g=/[+-]?[\di.]+/g,e,f=0;null!==(e=g.exec(a));f=1)if(-1!==e[0].indexOf("i")){e=e[0].replace("i","");if("+"===e||"-"===e||""===e)e+="1";c.i+=parseFloat(e)}else c.r+=parseFloat(e[0]);0===f&&l();break;case "number":c.i=0;
c.r=a;break;default:l()}isNaN(c.r*c.i)&&l()}function l(){throw"Invalid Param";}function h(a){return(Math.exp(a)-Math.exp(-a))/2}function k(a){return(Math.exp(a)+Math.exp(-a))/2}function b(a,d){if(!(this instanceof b))return new b(a,d);f(a,d);this.r=c.r;this.i=c.i}var c={b:0,a:0};b.prototype.r=0;b.prototype.i=0;b.prototype.add=function(a,d){f(a,d);return new b(this.r+c.r,this.i+c.i)};b.prototype.sub=function(a,d){f(a,d);return new b(this.r-c.r,this.i-c.i)};b.prototype.mul=function(a,d){f(a,d);return new b(this.r*
c.r-this.i*c.i,this.r*c.i+this.i*c.r)};b.prototype.div=function(a,d){f(a,d);a=c.r;d=c.i;var g=a*a+d*d;if(0===g)throw"DIV/0";return new b((a*this.r+d*this.i)/g,(a*this.i-d*this.r)/g)};b.prototype.pow=function(a,d){f(a,d);a=this.r;d=this.i;var g=a*a+d*d,e=Math.atan2(d,a);if(0===g)return new b(0);a=Math.pow(g,c.r/2)*Math.exp(-c.i*e);d=c.i*Math.log(g)/2+c.r*e;return new b(a*Math.cos(d),a*Math.sin(d))};b.prototype.sqrt=function(){var a=this.abs();return new b(Math.sqrt((a+this.r)/2),Math.sqrt((a-this.r)/
2)*(0>this.i?-1:1))};b.prototype.exp=function(){var a=Math.exp(this.r);return new b(a*Math.cos(this.i),a*Math.sin(this.i))};b.prototype.log=function(){var a=this.r,d=this.i;return new b(Math.log(a*a+d*d)/2,Math.atan2(d,a))};b.prototype.abs=function(){var a=this.r,b=this.i;return Math.sqrt(a*a+b*b)};b.prototype.arg=function(){return Math.atan2(this.i,this.r)};b.prototype.sin=function(){var a=this.r,d=this.i;return new b(Math.sin(a)*k(d),Math.cos(a)*h(d))};b.prototype.cos=function(){var a=this.r,d=
this.i;return new b(Math.cos(a)*k(d),-Math.sin(a)*h(d))};b.prototype.tan=function(){var a=this.r,d=this.i,c=Math.cos(2*a)+k(2*d);return new b(Math.sin(2*a)/c,h(2*d)/c)};b.prototype.asin=function(){return this.mul(this).neg().add(1).sqrt().add(this.mul(b.I)).log().mul(b.I).neg()};b.prototype.acos=function(){return this.mul(this).neg().add(1).sqrt().mul(b.I).add(this).log().mul(b.I).neg()};b.prototype.atan=function(){return b.I.add(this).div(b.I.sub(this)).log().mul(b.I).div(2)};b.prototype.sinh=function(){var a=
this.r,d=this.i;return new b(h(a)*Math.cos(d),k(a)*Math.sin(d))};b.prototype.cosh=function(){var a=this.r,d=this.i;return new b(k(a)*Math.cos(d),h(a)*Math.sin(d))};b.prototype.tanh=function(){var a=this.r,d=this.i,c=k(2*a)+Math.cos(2*d);return new b(h(2*a)/c,Math.sin(2*d)/c)};b.prototype.inverse=function(){var a=this.r,d=this.i,c=a*a+d*d;if(0===c)throw"DIV/0";return new b(a/c,-d/c)};b.prototype.conjugate=function(){return new b(this.r,-this.i)};b.prototype.neg=function(){return new b(-this.r,-this.i)};
b.prototype.equals=function(a,b){f(a,b);return 1E-16>=Math.abs(c.r-this.r)&&1E-16>=Math.abs(c.i-this.i)};b.prototype.clone=function(){return new b(this.r,this.i)};b.prototype.toString=function(){var a=this.r,b=this.i;if(isNaN(a*b))return"NaN";var c="";0!==a&&(c+=a);0!==b&&(0<b&&0!==a&&(c+="+"),1!==b&&(c=-1===b?c+"-":c+b),c+="i");return""===c?"0":c};b.prototype.toVector=function(){return[this.b,this.a]};b.prototype.valueOf=function(){return 0===this.i?this.r:null};b.ZERO=new b(0,0);b.ONE=new b(1,0);
b.I=new b(0,1);b.PI=new b(Math.PI,0);b.E=new b(Math.E,0);"function"===typeof define&&define.amd?define([],function(){return b}):"object"===typeof exports?module.exports=b:m.Complex=b})(this);
